  
  # Clean-up
  delete module raxmlPhylogenyGenerator
  delete module alignmentColumnsSelectorFlavivirus
  delete module alignmentColumnsSelectorTamanavirus
  delete module alignmentColumnsSelectorHepacivirus
  delete module alignmentColumnsSelectorPestivirus
  delete module alignmentColumnsSelectorPegivirus
  delete module alignmentColumnsSelectorJingmenvirus_Seg1
  delete module alignmentColumnsSelectorJingmenvirus_Seg3
  
  # Create all the modules we need
  create module -t raxmlPhylogenyGenerator
  create module -f modules/core/alignmentColumnsSelectorFlavivirus.xml
  create module -f modules/core/alignmentColumnsSelectorTamanavirus.xml
  create module -f modules/core/alignmentColumnsSelectorHepacivirus.xml
  create module -f modules/core/alignmentColumnsSelectorPestivirus.xml
  create module -f modules/core/alignmentColumnsSelectorPegivirus.xml
  create module -f modules/core/alignmentColumnsSelectorJingmenvirus_Seg1.xml
  create module -f modules/core/alignmentColumnsSelectorJingmenvirus_Seg3.xml


  # Create the phylogenies
  module raxmlPhylogenyGenerator

    generate nucleotide phylogeny AL_GENUS_Flavivirus -s alignmentColumnsSelectorFlavivirus \
      -w "fLocNotes.featureLoc.feature.name = 'precursor_polyprotein' and fLocNotes.ref_nt_coverage_pct >= 50" \
      -o trees/subgenus-level/flavivirus.tre NEWICK_BOOTSTRAPS

    generate nucleotide phylogeny AL_GENUS_Tamanavirus -s alignmentColumnsSelectorTamanavirus \
      -w "fLocNotes.featureLoc.feature.name = 'precursor_polyprotein' and fLocNotes.ref_nt_coverage_pct >= 50" \
      -o trees/subgenus-level/tamanavirus.tre NEWICK_BOOTSTRAPS

    generate nucleotide phylogeny AL_GENUS_Hepacivirus -s alignmentColumnsSelectorHepacivirus \
      -w "fLocNotes.featureLoc.feature.name = 'precursor_polyprotein' and fLocNotes.ref_nt_coverage_pct >= 50" \
      -o trees/subgenus-level/hepacivirus.tre NEWICK_BOOTSTRAPS

    generate nucleotide phylogeny AL_GENUS_Pegivirus -s alignmentColumnsSelectorPegivirus \
      -w "fLocNotes.featureLoc.feature.name = 'precursor_polyprotein' and fLocNotes.ref_nt_coverage_pct >= 50" \
      -o trees/subgenus-level/pegivirus.tre NEWICK_BOOTSTRAPS

    generate nucleotide phylogeny AL_GENUS_Pestivirus -s alignmentColumnsSelectorPestivirus \
      -w "fLocNotes.featureLoc.feature.name = 'precursor_polyprotein' and fLocNotes.ref_nt_coverage_pct >= 50" \
      -o trees/subgenus-level/pestivirus.tre NEWICK_BOOTSTRAPS

    generate nucleotide phylogeny AL_GENUS_Jingmenvirus_Seg1 -s alignmentColumnsSelectorJingmenvirus_Seg1 \
      -w "fLocNotes.featureLoc.feature.name = 'precursor_polyprotein' and fLocNotes.ref_nt_coverage_pct >= 50" \
      -o trees/subgenus-level/jingmenvirus_seg1.tre NEWICK_BOOTSTRAPS

    generate nucleotide phylogeny AL_GENUS_Jingmenvirus_Seg3 -s alignmentColumnsSelectorJingmenvirus_Seg3 \
      -w "fLocNotes.featureLoc.feature.name = 'precursor_polyprotein' and fLocNotes.ref_nt_coverage_pct >= 50" \
      -o trees/subgenus-level/jingmenvirus_seg3.tre NEWICK_BOOTSTRAPS

    exit

